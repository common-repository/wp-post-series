this.mj=this.mj||{},this.mj.blocks=this.mj.blocks||{},this.mj.blocks["wp-post-series-block"]=function(e){function t(t){for(var n,r,c=t[0],p=t[1],l=t[2],a=0,f=[];a<c.length;a++)r=c[a],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(e[n]=p[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s,r=i[t],c=!0,p=1;p<r.length;p++)s=r[p],0!==o[s]&&(c=!1);c&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var r={},o={1:0},i=[];n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var c=window.webpackMjBlocksJsonp=window.webpackMjBlocksJsonp||[],p=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=p;return i.push([23,0]),s()}([function(e){!function(){e.exports=this.wp.element}()},function(e){!function(){e.exports=this.wp.i18n}()},function(e){!function(){e.exports=this.wp.components}()},function(e){!function(){e.exports=this.wp.primitives}()},function(e){!function(){e.exports=this.regeneratorRuntime}()},,,,function(e){!function(){e.exports=this.wp.blocks}()},,function(e){!function(){e.exports=this.wp.blockEditor}()},function(e){!function(){e.exports=this.wp.data}()},function(e){!function(){e.exports=this.wp.editor}()},,,function(e){!function(){e.exports=this.wp.apiFetch}()},,,,,,,,function(e,t,s){"use strict";s.r(t);var n=s(1),r=s(24),o=s(8),i=s(9),c=s.n(i),p=s(0),l=s(10),u=s(2),a=s(11),f=s(25),b=s(12),h=function(e){var t=e.message;return Object(p.createElement)(u.Placeholder,{icon:Object(p.createElement)(f.a,{icon:r.a}),label:Object(n.__)("Post Series","wp-post-series"),className:"wp-block-post-series"},t||Object(n.__)("This block shows a list of posts within the selected series.","wp-post-series"))},w=function(e){var t=e.attributes,s=e.currentPostSeriesId;if(""===t.series&&0===s)return Object(p.createElement)(h,{message:Object(n.__)("This block shows a list of posts in a series. To get started, select a post series for this post in the document settings panel.","wp-post-series")});var r=t;return""===t.series&&(r.previewId=s),Object(p.createElement)(b.ServerSideRender,{block:"mj/wp-post-series",attributes:r,EmptyResponsePlaceholder:h})},d=s(13),j=s.n(d),m=s(4),O=s.n(m),_=s(14),g=s.n(_),v=s(5),y=s.n(v),S=s(15),k=s.n(S),P=function(e){return function(t){var s=Object(p.useState)({}),n=y()(s,2),r=n[0],o=n[1],i=Object(p.useState)(!0),c=y()(i,2),l=c[0],u=c[1];return Object(p.useEffect)((function(){k()({path:"/wp/v2/post_series?per_page=-1"}).then((function(e){o(e)})).catch(g()(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o([]);case 1:case"end":return e.stop()}}),e)})))).finally((function(){u(!1)}))}),[]),Object(p.createElement)(e,j()({},t,{termsLoading:l,termsList:r}))}}((function(e){var t=e.attributes,s=e.setAttributes,r=e.termsList,o=e.termsLoading,i=t.series,f=t.showDescription,b=t.showPosts,h=Object(a.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("post_series")}),[]),d=Object(p.useMemo)((function(){return h[0]?h[0]:0}),[h]);return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(l.InspectorControls,{key:"inspector"},Object(p.createElement)(u.PanelBody,{title:Object(n.__)("Content","wp-post-series"),initialOpen:!0},!o&&Object(p.createElement)(u.SelectControl,{label:Object(n.__)("Show series","wp-post-series"),value:i,options:[{label:Object(n.__)("Current Post Series","wp-post-series"),value:""}].concat(c()(r.map((function(e){return{label:e.name,value:e.slug}})))),onChange:function(e){return s({series:e})}}),Object(p.createElement)(u.ToggleControl,{label:Object(n.__)("Show series description","wp-post-series"),help:f?Object(n.__)("Series description is visible.","wp-post-series"):Object(n.__)("Series description is hidden.","wp-post-series"),checked:f,onChange:function(){return s({showDescription:!f})}}),Object(p.createElement)(u.ToggleControl,{label:Object(n.__)("Always show post list","wp-post-series"),help:b?Object(n.__)("Series posts are always visible.","wp-post-series"):Object(n.__)("Series posts can be toggled.","wp-post-series"),checked:b,onChange:function(){return s({showPosts:!b})}}))),Object(p.createElement)(u.Disabled,null,Object(p.createElement)(w,{attributes:t,currentPostSeriesId:d})))}));Object(o.registerBlockType)("mj/wp-post-series",{title:Object(n.__)("Post Series","wp-post-series"),icon:r.a,keywords:[Object(n.__)("series","wp-post-series"),Object(n.__)("post","wp-post-series")],category:"widgets",description:Object(n.__)("Show a list of posts in the same series.","wp-post-series"),supports:{html:!1,multiple:!0},example:{attributes:{}},attributes:{series:{type:"string",default:""},showDescription:{type:"boolean",default:!0},showPosts:{type:"boolean",default:!1}},edit:P,save:function(){return null}})}]);